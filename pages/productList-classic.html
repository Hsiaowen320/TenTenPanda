<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- 載入 Bootstrap 的 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Google Font Icon -->
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <!-- Bootstrap Icon -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <title>商品列表 - 經典口味｜甜甜熊貓 TenTen Donut</title>
  </head>
  <body>
    <div id="userHeader" style="visibility: hidden">
      <%- include('./layout/header-profile'); -%>
    </div>
    <div id="guestHeader" style="visibility: hidden">
      <%- include('./layout/header'); -%>
    </div>

    <section class="p-lg-0 mt-8 mt-lg-14 container mx-lg-auto mb-lg-16">
      <!-- 麵包屑 -->
      <div class="mb-lg-12 mb-4">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb" style="--bs-breadcrumb-divider: ''">
            <li class="breadcrumb-item d-flex align-items-center ms-5">
              <a href="./index.html"
                ><img src="../assets/images/home.svg" alt="首頁超連結"
              /></a>
            </li>
            <span class="text-neutral-60 material-symbols-outlined ms-5"
              >keyboard_double_arrow_right</span
            >
            <li
              class="text-neutral-60 breadcrumb-item d-flex align-items-center ms-5"
            >
              <p>商品列表</p>
            </li>
            <span class="text-neutral-60 material-symbols-outlined ms-5"
              >keyboard_double_arrow_right</span
            >
            <li class="breadcrumb-item d-flex align-items-center ms-5">
              <a href="./productList-classic.html">經典口味</a>
            </li>
          </ol>
        </nav>
      </div>
      <!-- 商品列表 -->
      <div class="container">
        <div class="row">
          <div class="d-none d-lg-block col-lg-3">
            <ul>
              <li class="mb-lg-12">
                <a
                  href="./productList-classic.html"
                  class="text-primary-60 fs-4"
                  >經典口味</a
                >
              </li>
              <li class="mb-lg-12">
                <a
                  href="./productList-seasonal.html"
                  class="text-neutral-90 fs-4"
                  >季節限定</a
                >
              </li>
              <li>
                <a
                  href="./productList-giftbox.html"
                  class="text-neutral-90 fs-4"
                  >甜甜禮盒</a
                >
              </li>
            </ul>
          </div>
          <div class="col-12 col-lg-9">
            <div class="row">
              <div class="col-12 col-lg-6 ps-lg-8 pe-lg-0 mb-8">
                <div class="mb-lg-8 product" data-id="classic">
                  <a
                    href="./item_details-classic.html"
                    class="position-relative d-inline-block"
                  >
                    <div class="img-box">
                      <img
                        src="../assets/images/經典甜甜.png"
                        alt="經典甜甜"
                        class="img-fluid"
                      />
                    </div>
                    <!-- 加入收藏 -->
                    <button
                      type="button"
                      class="favorite-btn position-absolute top-0 end-0 fs-3 fs-lg-1"
                      data-bs-toggle="modal"
                      data-bs-target="#favoriteModal"
                      onclick="event.preventDefault(); event.stopPropagation();"
                    >
                      <i class="bi bi-heart empty"></i>
                      <i class="bi bi-heart-fill full"></i>
                    </button>
                  </a>
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <h2 class="fs-6 mb-2">經典甜甜</h2>
                      <p class="fs-6">$ 65</p>
                    </div>
                    <!-- 加入購物車 -->
                    <button
                      type="button"
                      class="producList-cart-btn br-999"
                      data-bs-toggle="modal"
                      data-bs-target="#cartModal"
                    >
                      <i class="bi bi-cart2 fs-3 fs-lg-2"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-6 ps-lg-8 pe-lg-0 mb-8">
                <div class="mb-lg-8 product" data-id="berry">
                  <a
                    href="./item_details-berry.html"
                    class="position-relative d-inline-block"
                  >
                    <div class="img-box">
                      <img
                        src="../assets/images/莓果甜甜.png"
                        alt="莓果甜甜"
                        class="img-fluid"
                      />
                    </div>
                    <!-- 加入收藏 -->
                    <button
                      type="button"
                      class="favorite-btn position-absolute top-0 end-0 fs-3 fs-lg-1"
                      data-bs-toggle="modal"
                      data-bs-target="#favoriteModal"
                    >
                      <i class="bi bi-heart empty"></i>
                      <i class="bi bi-heart-fill full"></i>
                    </button>
                  </a>
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <h2 class="fs-6 mb-2">莓果甜甜</h2>
                      <p class="fs-6">$ 65</p>
                    </div>
                    <!-- 加入購物車 -->
                    <button
                      type="button"
                      class="producList-cart-btn br-999"
                      data-bs-toggle="modal"
                      data-bs-target="#cartModal"
                    >
                      <i class="bi bi-cart2 fs-3 fs-lg-2"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-6 ps-lg-8 pe-lg-0 mb-8">
                <div class="mb-lg-8 product" data-id="sesame">
                  <a
                    href="./item_details-sesame.html"
                    class="position-relative d-inline-block"
                  >
                    <div class="img-box">
                      <img
                        src="../assets/images/芝麻甜甜.png"
                        alt="芝麻甜甜"
                        class="img-fluid"
                      />
                    </div>
                    <!-- 加入收藏 -->
                    <button
                      type="button"
                      class="favorite-btn position-absolute top-0 end-0 fs-3 fs-lg-1"
                      data-bs-toggle="modal"
                      data-bs-target="#favoriteModal"
                    >
                      <i class="bi bi-heart empty"></i>
                      <i class="bi bi-heart-fill full"></i>
                    </button>
                  </a>
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <h2 class="fs-6 mb-2">芝麻甜甜</h2>
                      <p class="fs-6">$ 65</p>
                    </div>
                    <!-- 加入購物車 -->
                    <button
                      type="button"
                      class="producList-cart-btn br-999"
                      data-bs-toggle="modal"
                      data-bs-target="#cartModal"
                    >
                      <i class="bi bi-cart2 fs-3 fs-lg-2"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-6 ps-lg-8 pe-lg-0 mb-8">
                <div class="mb-lg-8 product" data-id="matcha">
                  <a
                    href="./item_details-matcha.html"
                    class="position-relative d-inline-block"
                  >
                    <div class="img-box">
                      <img
                        src="../assets/images/抹茶甜甜.png"
                        alt="抹茶甜甜"
                        class="img-fluid"
                      />
                    </div>
                    <!-- 加入收藏 -->
                    <button
                      type="button"
                      class="favorite-btn position-absolute top-0 end-0 fs-3 fs-lg-1"
                      data-bs-toggle="modal"
                      data-bs-target="#favoriteModal"
                    >
                      <i class="bi bi-heart empty"></i>
                      <i class="bi bi-heart-fill full"></i>
                    </button>
                  </a>
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <h2 class="fs-6 mb-2">抹茶甜甜</h2>
                      <p class="fs-6">$ 65</p>
                    </div>
                    <!-- 加入購物車 -->
                    <button
                      type="button"
                      class="producList-cart-btn br-999"
                      data-bs-toggle="modal"
                      data-bs-target="#cartModal"
                    >
                      <i class="bi bi-cart2 fs-3 fs-lg-2"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-6 ps-lg-8 pe-lg-0 mb-8">
                <div class="mb-lg-8 product" data-id="creamlemon">
                  <a
                    href="./item_details-creamlemon.html"
                    class="position-relative d-inline-block"
                  >
                    <div class="img-box">
                      <img
                        src="../assets/images/生乳檸檬甜甜.png"
                        alt="生乳檸檬甜甜"
                        class="img-fluid"
                      />
                    </div>
                    <!-- 加入收藏 -->
                    <button
                      type="button"
                      class="favorite-btn position-absolute top-0 end-0 fs-3 fs-lg-1"
                      data-bs-toggle="modal"
                      data-bs-target="#favoriteModal"
                    >
                      <i class="bi bi-heart empty"></i>
                      <i class="bi bi-heart-fill full"></i>
                    </button>
                  </a>
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <h2 class="fs-6 mb-2">生乳檸檬甜甜</h2>
                      <p class="fs-6">$ 65</p>
                    </div>
                    <!-- 加入購物車 -->
                    <button
                      type="button"
                      class="producList-cart-btn br-999"
                      data-bs-toggle="modal"
                      data-bs-target="#cartModal"
                    >
                      <i class="bi bi-cart2 fs-3 fs-lg-2"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-6 ps-lg-8 pe-lg-0 mb-8">
                <div class="mb-lg-8 product" data-id="caramelcocoa">
                  <a
                    href="./item_details-caramelcocoa.html"
                    class="position-relative d-inline-block"
                  >
                    <div class="img-box">
                      <img
                        src="../assets/images/焦糖可可甜甜.png"
                        alt="焦糖可可甜甜"
                        class="img-fluid"
                      />
                    </div>
                    <!-- 加入收藏 -->
                    <button
                      type="button"
                      class="favorite-btn position-absolute top-0 end-0 fs-3 fs-lg-1"
                      data-bs-toggle="modal"
                      data-bs-target="#favoriteModal"
                    >
                      <i class="bi bi-heart empty"></i>
                      <i class="bi bi-heart-fill full"></i>
                    </button>
                  </a>
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <h2 class="fs-6 mb-2">焦糖可可甜甜</h2>
                      <p class="fs-6">$ 65</p>
                    </div>
                    <!-- 加入購物車 -->
                    <button
                      type="button"
                      class="producList-cart-btn br-999"
                      data-bs-toggle="modal"
                      data-bs-target="#cartModal"
                    >
                      <i class="bi bi-cart2 fs-3 fs-lg-2"></i>
                    </button>
                  </div>
                </div>
              </div>
              <!--  -->
            </div>
            <ul class="d-flex justify-content-center align-items-center">
              <li class="px-3">
                <span class="material-symbols-outlined"> chevron_left </span>
              </li>
              <li class="px-3 text-primary-60">1</li>
              <li class="px-3">
                <span class="material-symbols-outlined"> chevron_right </span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <!-- Modal -->
    <!-- 購物車 -->
    <div
      class="modal fade"
      id="cartModal"
      tabindex="-1"
      aria-labelledby="cartModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content br-32">
          <div
            class="modal-body d-flex flex-column justify-content-center align-items-center py-10"
          >
            <div class="mb-5 cart">
              <i class="bi bi-cart2 d-inline-block fs-2"></i>
            </div>
            <p class="fs-6">已加入購物車！</p>
          </div>
        </div>
      </div>
    </div>
    <!-- 收藏 -->
    <div
      class="modal fade"
      id="favoriteModal"
      tabindex="-1"
      aria-labelledby="favoritetModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content br-32">
          <div
            class="modal-body d-flex flex-column justify-content-center align-items-center py-10"
          >
            <div class="mb-5 cart">
              <i class="bi bi-heart-fill d-inline-block fs-2"></i>
            </div>
            <p class="fs-6">已加入願望清單！</p>
          </div>
        </div>
      </div>
    </div>
    <!-- 取消收藏 -->
    <div
      class="modal fade"
      id="cancelFavoriteModal"
      tabindex="-1"
      aria-labelledby="favoritetModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content br-32">
          <div
            class="modal-body d-flex flex-column justify-content-center align-items-center py-10"
          >
            <div class="mb-5 cart">
              <i class="bi bi-check d-inline-block fs-2"></i>
            </div>
            <p class="fs-6">已取消收藏！</p>
          </div>
        </div>
      </div>
    </div>
    <%- include('./layout/footer'); -%>

    <script type="module" src="../main.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const favBtns = document.querySelectorAll(".favorite-btn");

        favBtns.forEach((btn) => {
          const product = btn.closest(".product");
          const itemId = product.dataset.id;

          // 初始化愛心狀態
          if (localStorage.getItem(itemId) === "true") {
            btn.classList.add("active");
          }

          const Active = btn.classList.contains("active");
          if (Active) {
            btn.setAttribute("data-bs-target", "#cancelFavoriteModal");
          } else {
            btn.setAttribute("data-bs-target", "#favoriteModal");
          }

          btn.addEventListener("click", (e) => {
            e.preventDefault();
            e.stopPropagation();

            const isActive = btn.classList.contains("active");
            btn.classList.toggle("active");

            if (!isActive) {
              localStorage.setItem(itemId, "true");

              btn.setAttribute("data-bs-target", "#cancelFavoriteModal");
            } else {
              localStorage.removeItem(itemId);

              btn.setAttribute("data-bs-target", "#favoriteModal");
            }
          });
        });
      });
    </script>
  </body>
</html>
